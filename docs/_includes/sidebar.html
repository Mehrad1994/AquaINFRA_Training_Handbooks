<!-- 
    LEFT SIDEBAR NAVIGATION
    Displays:
    1. Guide section (link to how-to-use page)
    2. Resources section (external links)
    3. Use Cases section (dynamically generated from _data/use_cases.yml)
-->
<aside class="page-sidebar">
    <!-- Section 1: How to Use Handbook -->
    <section class="sidebar__section">
        <h3 class="sidebar__heading">Guide</h3>
        <p class="sidebar__text">
            Learn how these training handbooks are structured and how to navigate them.
        </p>
        <a href="{{ '/how-to-use' | relative_url }}" class="sidebar__link">
            Read guidelines &rarr;
        </a>
    </section>

    <!-- Section 2: External Resources -->
    <section class="sidebar__section">
        <h3 class="sidebar__heading">Resources</h3>
        <ul class="sidebar__list">
            <li><a href="https://aquainfra.eu" target="_blank" class="sidebar__link">AquaINFRA Website</a></li>
            <li><a href="{{ '/wp6_tasks' | relative_url }}" class="sidebar__link">WP6 Tasks & OERs</a></li>
        </ul>
    </section>

    <!-- Section 3: Training Use Cases (Dynamic) -->
    <!-- This section is auto-generated from docs/_data/use_cases.yml -->
    <!-- To add a new training, edit use_cases.yml - DO NOT edit this file -->
    <section class="sidebar__section">
        <h3 class="sidebar__heading">Use Cases</h3>

        <!-- Loop through each region defined in use_cases.yml -->
        {% for region in site.data.use_cases %}
        <div class="sidebar__region">
            <span class="sidebar__region-title">{{ region.region }}</span>

            <!-- Check if region has any trainings -->
            {% if region.trainings and region.trainings.size > 0 %}
            <ul class="sidebar__list">
                <!-- Loop through trainings in this region -->
                {% for training in region.trainings %}
                <li>
                    <a href="{{ training.url | relative_url }}" class="sidebar__link">
                        {{ training.title }}
                    </a>
                </li>
                {% endfor %}
            </ul>
            {% else %}
            <!-- Show "Coming soon" if no trainings exist for this region -->
            <p class="sidebar__text"
                style="font-size: 0.85rem; color: var(--gray-600); font-style: italic; margin-bottom: 0.5rem;">
                Coming soon
            </p>
            {% endif %}
        </div>
        {% endfor %}
    </section>
</aside>